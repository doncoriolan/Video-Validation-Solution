<html>
  <head>
    <title>VVS</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='styles/main.css') }}" >
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Titillium+Web&display=swap" rel="stylesheet"> 
  </head>
  <body>
    <div class="body_in_body">
      <div class="horizontal_spread">
        <img class="logo" src="{{ url_for('static',filename='styles/logo.png') }}">
        <h1>Video Validation Solution</h1>
      </div>
      <div class="form_layout">
        <div id="upload_input_box" class="form_box">
          <h2>Camera Check</h2>
          <p id="file_selection">No file selected</p>
          <script src="{{ url_for('static',filename='scripts/validation.js') }}"></script>
          <script src="{{ url_for('static',filename='scripts/analysis_notifications.js') }}"></script>
          <form action = "/uploader" method = "POST" enctype = "multipart/form-data">
            <input class="flat_button" id="file_upload" type="file" name="analyzer_input" accept=".csv" aria-label="CSV Select" oninput="validateFileSelection()" />
            <label for="file_upload">
              <div class="button_text">Select File</div>
            </label>
            <input class="flat_button" id="file_submit" type = "submit" aria-label="CSV Submit"/>
            <label for="file_submit">
              <div class="button_text">Upload File</div>
            </label>
          </form>   
        </div>
        <div id="analyzer_results" class="form_box">
          <h2>Check Results</h2>
          <p id="analyzer_message">{{ result_message }}</p>
          <div class="horizontal_spread">
            <form action="/analysis_results" method=GET>
              <input class="flat_button" id="view_analysis" type="submit" aria-label="View Analysis" />
              <label for="view_analysis">
                <div class="button_text">View</div>
              </label>
            </form>
            <form action = "/analysis_output.xlsx" method = "GET">
              <input class="flat_button" id="file_download" type="submit" aria-label="Download analysis results">
              <label for="file_download">
                <div class="button_text">Download</div>
              </label>
            </form>
          </div>
        </div>
      </div>
      <div class="form_layout">
        <div id="explorer" class="form_box">
          <h2>Camera Search</h2>
          <p>Input the subnet to search for cameras</p>
          <form action="/explorer" method="POST" style="flex-wrap: wrap; row-gap: 10%;" >
            <input class="flat_line" id="search_user" name="explorer_user" type="text" aria-label="Search User" placeholder="optional username" />
            <label for="search_user">
            </label>
            <input class="flat_line" id="search_pass" name="explorer_pass" type="text" aria-label="Search Password" placeholder="optional password" />
            <label for="search_pass">
            </label>
            <div class="break"></div>
            <input class="flat_line" id="search_subnet" name="explorer_subnet" type="text" aria-label="Search Subnet" placeholder="127.0.0.1/24" />
            <label for="search_subnet">
            </label>
            <select id="manufacturer" name="explorer_manufacturer">
              <option value="axis">Axis</option>
              <option value="sony">Sony</option>
              <option value="bosch">Bosch</option>
              <option value="hikvision">Hikvision</option>
              <option value="avigilon">Avigilon</option>
              <option value="panasonic">Panasonic</option>
              <option value="mobotix">Mobotix</option>
              <option value="cohu">Cohu</option>
              <option value="wti">WTI</option>
              <option value="iqeye">IQEYE</option>
              <option value="pelco">Pelco</option>
              <option value="flir">Flir</option>
              <option value="univision">Univision</option>
              <option value="vicon">Vicon</option>
              <option value="geovision">Geovision</option>
            </select>
            <input class="flat_button" id="search_trigger" type="submit" aria-label="Initiate search" />
            <label for="search_trigger">
              <div class="button_text">Initiate Search</div>
            </label>
          </form>
        </div>
        <div id="explorer_results" class="form_box">
          <h2>Search Results</h2>
          <p id="explorer_message">View or download search results</p>
          <div class="horizontal_spread">
            <form action="/search_results" method=GET>
              <input class="flat_button" id="view_search" type="submit" aria-label="View Search" />
              <label for="view_search">
                <div class="button_text">View</div>
              </label>
            </form>
            <form action="/search_output.xlsx" method="GET">
              <input class="flat_button" id="download_search" type="submit" aria-label="Download Search" />
              <label for="download_search">
                <div class="button_text">Download</div>
              </label>
            </form>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
